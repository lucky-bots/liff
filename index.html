<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name วจ="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
  <title>My LIFF App</title>
  
  <style>
      
     #buttonLogin {
  display: none;
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 8px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
  display: flex;
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 19px 24px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

#buttonLogin:active,
#buttonLogin:hover {
  outline: 0;
}

@media (min-width: 768px) {
  #buttonLogin {
    font-size: 24px;
    min-width: 196px;
  }
}

#buttonLogin {
  width: 300px;
  height: 80px;
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 8px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 19px 24px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

#buttonLogin:active,
#buttonLogin:hover {
  outline: 0;
}

@media (min-width: 768px) {
  #buttonLogin {
    font-size: 24px;
    min-width: 196px;
  }
}

#buttonLogOut, #buttonShare 
{
  width: 300px;
  height: 80px;
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 10px 10px 10px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFBC00;
 /* display: flex; */
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 19px 24px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

#buttonLogOut, #buttonShare:active,
#buttonLogOut, #buttonShare:hover {
  outline: 0;
}

@media (min-width: 768px) {
  #buttonLogin {
    font-size: 24px;
    min-width: 196px;
  }
}
#buttonLogOut, #buttonShare, #buttonLogin{
display: none;{
} 

body {
    background-image:url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtkxWytzuUVixI9pGxTF2H0UbBhKkY7pDGAA&usqp=CAU);
    margin: 0 0 0 ;
    text-align: center;
    
}
      
  </style>
  </head>
  <body>
  <center>
   <h1> Flex Message </h1>  
  <button  id="buttonShare" onclick="sendShare()">แชร์</button>
  <button id="buttonLogin" onclick="liff.login()">เข้าระบบ</button>
  <button id="buttonLogOut" onclick="logOut()">ออกระบบ</button>
  
  
  </center>
  
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  
  
  <script>
    async function sendShare() {
      const result = await 
        liff.shareTargetPicker([ 
                       {
  "type": "carousel",
  "contents": [
    {
      "type": "bubble",
      "size": "micro",
      "hero": {
        "type": "image",
        "url": "https://f.ptcdn.info/976/056/000/p6sqakk6v4UDkiQgUKI-o.gif",
        "size": "full",
        "aspectMode": "cover",
        "aspectRatio": "320:213",
        "margin": "xxl",
        "align": "center",
        "animated": true,
        "gravity": "center",
        "action": {
          "type": "message",
          "label": "action",
          "text": "เบน"
        }
      },
      "body": {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "text",
            "text": "ทำใม",
            "weight": "bold",
            "size": "xxl",
            "wrap": true,
            "color": "#ff00ff",
            "position": "relative",
            "align": "center"
          },
          {
            "type": "box",
            "layout": "baseline",
            "contents": []
          },
          {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "box",
                "layout": "baseline",
                "spacing": "sm",
                "contents": []
              }
            ]
          }
        ],
        "spacing": "sm",
        "paddingAll": "13px"
      }
    },
    {
      "type": "bubble",
      "size": "micro",
      "hero": {
        "type": "image",
        "url": "https://2.bp.blogspot.com/-IWpz_p-s2j8/WrnNVTzohVI/AAAAAAALQKY/dWIKQ7J8efYmRoWJsMExBftV3zKXYzutwCLcBGAs/s1600/AF005859_00.gif",
        "size": "full",
        "aspectMode": "cover",
        "aspectRatio": "320:213"
      },
      "body": {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "text",
            "text": "ใจร้าย",
            "weight": "bold",
            "size": "xxl",
            "wrap": true,
            "margin": "none",
            "color": "#ff0000",
            "align": "center"
          },
          {
            "type": "box",
            "layout": "baseline",
            "contents": []
          },
          {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "box",
                "layout": "baseline",
                "spacing": "sm",
                "contents": []
              }
            ]
          }
        ],
        "spacing": "sm",
        "paddingAll": "13px"
      }
    },
    {
      "type": "bubble",
      "size": "micro",
      "hero": {
        "type": "image",
        "url": "https://4.bp.blogspot.com/-kTpP4gzIXQo/WrnNVvCpmgI/AAAAAAALQKc/pCud1BDUM9I0PhCaSUjYWwdZ0r2iMpYqwCLcBGAs/s1600/AF005859_01.gif",
        "size": "full",
        "aspectMode": "cover",
        "aspectRatio": "320:213"
      },
      "body": {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "text",
            "text": "จัง",
            "weight": "bold",
            "size": "xxl",
            "margin": "xxl",
            "color": "#00ff00",
            "align": "center",
            "position": "relative",
            "decoration": "none",
            "gravity": "top",
            "wrap": true
          },
          {
            "type": "box",
            "layout": "baseline",
            "contents": []
          },
          {
            "type": "box",
            "layout": "vertical",
            "contents": [
              {
                "type": "box",
                "layout": "baseline",
                "spacing": "sm",
                "contents": []
              }
            ]
          }
        ],
        "spacing": "sm",
        "paddingAll": "13px"
      }
    }
  ]
}  
      ])    
       if (result) {
 alert(`[${result.status}] Message sent!`)
 } 
     else  {
             const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');
  
       if (minorVer === undefined) {
 alert('ShareTargetPicker was canceled in external browser')
        return
      }        
  
           
        if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
          alert('ShareTargetPicker was canceled in LINE app')
        }
      }
    }
    function logOut() {
      liff.logout()
      window.location.reload()
    }
    async function main() {
      await liff.init({ liffId: "1656633739-NjWEVAWZ" })
      if (liff.isLoggedIn()) {
        document.getElementById("buttonShare").style.display = "block"
        if (!liff.isInClient()) {
          document.getElementById("buttonLogOut").style.display = "block" 
        }
    } else {
        document.getElementById("buttonLogin").style.display = "block"
      }
    }
    main()
  </script>  
</body>
</html>
