<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name วจ="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
  <title>My LIFF App</title>
  
  <style>
      
     #buttonLogin {
  display: none;
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 8px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
  display: flex;
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 19px 24px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

#buttonLogin:active,
#buttonLogin:hover {
  outline: 0;
}

@media (min-width: 768px) {
  #buttonLogin {
    font-size: 24px;
    min-width: 196px;
  }
}

#buttonLogin {
  width: 300px;
  height: 80px;
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 8px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 19px 24px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

#buttonLogin:active,
#buttonLogin:hover {
  outline: 0;
}

@media (min-width: 768px) {
  #buttonLogin {
    font-size: 24px;
    min-width: 196px;
  }
}

#buttonLogOut, #buttonShare 
{
  width: 500px;
  height: 150px;
  align-items: center;
  background-image: linear-gradient(144deg,#FCFFDD, #F03112 50%,#ff75f7);
  border: 0;
  border-radius: 10px 10px 10px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
 /* display: flex; */
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 19px 24px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

#buttonLogOut, #buttonShare:active,
#buttonLogOut, #buttonShare:hover {
  outline: 0;
}

@media (min-width: 768px) {
  #buttonLogin {
    font-size: 24px;
    min-width: 196px;
  }
}
#buttonLogOut, #buttonShare, #buttonLogin{
  display: none;
} 

body {
    background-image: url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtkxWytzuUVixI9pGxTF2H0UbBhKkY7pDGAA&usqp=CAU);
    margin: 0 0 0 ;
    text-align: center;    
}
      
  </style>
  </head>
  <body>
  <center>
   <h1> Flex Message </h1>  
  <button  id="buttonShare" onclick="sendShare()">แชร์</button><br />
  <button id="buttonLogin" onclick="liff.login()">เข้าระบบ</button>
  <button id="buttonLogOut" onclick="logOut()">ออกระบบ</button>
  
  
  </center>
  
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  
  
  <script>
    async function sendShare() {
      const result = await 
        liff.shareTargetPicker([ 
  
 {  
 "type": "flex",
 "altText": "Flex Message",
 "contents": {
  "type": "bubble",
  "header": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "CREATOR BOT",
        "color": "#FF0000",
        "weight": "bold",
        "size": "xxl",
        "align": "center"
      }
    ]
  },
  "hero": {
    "type": "image",
    "url": "https://www.img.in.th/images/fd9224193cad3d3fd57129fe185aecca.md.jpg",
    "size": "xl"
  },
  "body": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "Sakon Khlaolamom",
        "size": "xl",
        "weight": "bold",
        "align": "center",
        "color": "#6B8E23"
      },
      {
        "type": "text",
        "text": "B E N S I N",
        "align": "center",
        "color": "#0000FF",
        "weight": "bold"
      },
      {
        "type": "separator",
        "margin": "md"
      },
      {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "button",
            "action": {
              "type": "uri",
              "label": "Website",
              "uri": "http://luckyslot.epuzy.com"
            },
            "style": "link"
          },
          {
            "type": "button",
            "action": {
              "type": "uri",
              "label": "LINE",
              "uri": "https://line.me/ti/p/HIbs72W0qn"
            },
            "style": "link"
          },
          {
            "type": "button",
            "action": {
              "type": "postback",
              "label": "สนับสนุน ผ่านบันชี",
              "data": "สกล เคล้าละม่อม0423786817 กสิกร"
            },
            "style": "secondary",
            "color": "#ccff00"
          }
        ],
        "paddingTop": "10px"
      }
    ]
  },
  "styles": {
    "header": {
      "backgroundColor": "#00B900"
    }
  }
} 
}
      ])    
       if (result) {
 alert(`[${result.status}] ส่ง Flex Message เรียบร้อย!`)
     } else  {
             const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');
  
             if (minorVer === undefined) {
  alert('ไม่สามารถส่งนอกแอพได้จ้า')
        return
      }        
  
           
        if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
          alert('ShareTargetPicker was canceled in LINE app')
        }
      }
    }
    function logOut() {
      liff.logout()
      window.location.reload()
    }
    async function main() {
      await liff.init({ liffId: "1656633739-NjWEVAWZ" })
      if (liff.isLoggedIn()) {
        document.getElementById("buttonShare").style.display = "block"
        if (!liff.isInClient()) {
          document.getElementById("buttonLogOut").style.display = "block" 
        }
    } else {
        document.getElementById("buttonLogin").style.display = "block"
      }
    }
    main()
  </script>  
</body>
</html>
